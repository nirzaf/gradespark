/* --- Base Variables and Styles --- */
:root {
    /* Define a slightly richer and more distinct color palette - Optimized for Light Theme */
    --bg-light: #FFFFFF;
    /* Pure white background */
    --text-dark: #1F2937;
    /* Dark Gray for text/elements */
    --border-light: #E5E7EB;
    /* Light Gray for borders */
    --white: #FFFFFF;

    /* Subject Group Palettes - Adjusted for Professional Look */
    --math-sci-blue: #2563EB;
    /* Stronger Blue */
    --math-sci-blue-light: #BFDBFE;
    /* Lighter Blue */
    --bio-chem-green: #059669;
    /* Emerald Green */
    --bio-chem-green-light: #A7F3D0;
    /* Lighter Green */
    --business-econ-orange: #F59E0B;
    /* Amber */
    --business-econ-orange-light: #FEF3C7;
    /* Lighter Amber */
    --humanities-purple: #7C3AED;
    /* Vibrant Purple */
    --humanities-purple-light: #DDD6FE;
    /* Lighter Purple */
    --accent-pink: #EC4899;
    /* Vibrant Pink */
    --accent-red: #EF4444;
    /* Red for emphasis */

    /* Professional Greys */
    --grey-light: #F3F4F6;
    --grey-medium: #9CA3AF;
    --grey-dark: #4B5563;

    /* Animation Durations */
    --fast-duration: 2.5s;
    --medium-duration: 4s;
    --slow-duration: 6s;
    --very-slow-duration: 10s;
}

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--grey-light);
    /* Light grey background for contrast */
    padding: 2rem;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1.5rem;
    /* Add gap between icons */
}

/* --- Common Icon Wrapper --- */
.icon-wrapper {
    width: 90px;
    /* Slightly larger */
    height: 90px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    font-family: 'Inter', sans-serif;
    background-color: var(--white);
    /* Use pure white */
    border-radius: 16px;
    /* More rounded */
    overflow: hidden;
    border: 1px solid var(--border-light);
    /* Enhanced shadow for more depth */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.04);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    /* Add hover effect */
}

.icon-wrapper:hover {
    transform: translateY(-4px) scale(1.02);
    /* Lift effect on hover */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(0, 0, 0, 0.05);
}

/* --- Accounting - Dynamic Calculator --- */
.icon-accounting .calculator-body {
    width: 50px;
    /* Slightly larger */
    height: 60px;
    background: linear-gradient(145deg, #f9fafb, #e5e7eb);
    /* Refined gradient */
    border-radius: 8px;
    position: relative;
    border: 1px solid var(--border-light);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.06), 0 3px 6px rgba(0, 0, 0, 0.06);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 6px;
    /* Adjusted padding */
}

.icon-accounting .screen {
    width: 40px;
    height: 14px;
    background-color: #D1FAE5;
    /* Lighter green screen */
    border-radius: 4px;
    margin-bottom: 6px;
    font-size: 9px;
    /* Slightly larger */
    font-family: 'Courier New', Courier, monospace;
    color: var(--text-dark);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding-right: 4px;
    overflow: hidden;
    position: relative;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

.icon-accounting .screen::after {
    content: '1,234';
    /* Start simple */
    position: absolute;
    right: 4px;
    /* More dynamic number sequence */
    animation: calcNumbersDynamic var(--slow-duration) infinite steps(8, end);
}

@keyframes calcNumbersDynamic {
    0% {
        content: '1,234';
    }

    12% {
        content: '+ 567';
    }

    24% {
        content: '= 1,801';
    }

    36% {
        content: '/ 7';
    }

    48% {
        content: '= 257.28';
    }

    60% {
        content: '* 10';
    }

    72% {
        content: '= 2,572';
    }

    84% {
        content: 'TOTAL';
    }

    100% {
        content: '2,572';
    }
}

.icon-accounting .buttons {
    display: grid;
    grid-template-columns: repeat(4, 10px);
    /* Larger buttons */
    gap: 3px;
    padding: 0 5px;
}

.icon-accounting .button {
    width: 10px;
    height: 8px;
    background-color: var(--white);
    border: 1px solid var(--border-light);
    border-radius: 3px;
    /* More rounded */
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
    /* More impactful button press */
    animation: pressButtonAccountingImpact var(--medium-duration) infinite ease-in-out;
}

/* Staggered animation delays */
.icon-accounting .button:nth-child(4n+1) {
    animation-delay: 0.1s;
}

.icon-accounting .button:nth-child(4n+2) {
    animation-delay: 0.4s;
}

.icon-accounting .button:nth-child(4n+3) {
    animation-delay: 0.7s;
}

.icon-accounting .button:nth-child(4n+4) {
    animation-delay: 1.0s;
}

@keyframes pressButtonAccountingImpact {

    0%,
    100% {
        transform: translateY(0) scale(1);
        background-color: var(--white);
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
    }

    5%,
    15% {
        transform: translateY(1px) scale(0.95);
        /* Press down and slightly shrink */
        background-color: var(--accent-pink);
        box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15);
        /* Deeper inset shadow */
    }

    10% {
        /* Quick pop back */
        transform: translateY(-0.5px) scale(1.02);
        background-color: var(--white);
        box-shadow: 0 2px 2px rgba(0, 0, 0, 0.08);
    }

    20% {
        transform: translateY(0) scale(1);
        background-color: var(--white);
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
    }
}

/* --- Additional Maths - Engaging Animated Graph --- */
.icon-add-maths .graph-area {
    width: 60px;
    /* Larger */
    height: 60px;
    border-left: 2px solid var(--grey-medium);
    border-bottom: 2px solid var(--grey-medium);
    position: relative;
    /* Slightly more visible grid */
    background: linear-gradient(to right, var(--border-light) 1px, transparent 1px) 0 0 / 12px 12px,
        linear-gradient(to bottom, var(--border-light) 1px, transparent 1px) 0 0 / 12px 12px;
    border-radius: 0 0 0 4px;
    /* Rounded corner */
}

.icon-add-maths svg {
    /* Ensure SVG fills the container */
    width: 100%;
    height: 100%;
    position: absolute;
    bottom: 0;
    left: 0;
    overflow: visible;
    /* Allow path to slightly exceed bounds if needed */
}

.icon-add-maths .curve path {
    stroke: var(--math-sci-blue);
    stroke-width: 2.5;
    /* Thicker line */
    fill: none;
    stroke-linecap: round;
    /* Smoother ends */
    /* Adjust dasharray based on actual path length (estimate for now) */
    stroke-dasharray: 150;
    stroke-dashoffset: 150;
    /* More engaging draw/erase animation */
    animation: drawCurveEngage var(--medium-duration) infinite ease-in-out;
    filter: drop-shadow(0 1px 2px rgba(37, 99, 235, 0.3));
    /* Add subtle glow */
}

@keyframes drawCurveEngage {
    0% {
        stroke-dashoffset: 150;
        opacity: 0;
    }

    10% {
        opacity: 1;
    }

    /* Fade in */
    50% {
        stroke-dashoffset: 0;
        opacity: 1;
    }

    /* Drawn */
    60% {
        opacity: 1;
    }

    /* Hold */
    90% {
        opacity: 0;
    }

    /* Fade out */
    100% {
        stroke-dashoffset: -150;
        opacity: 0;
    }

    /* Fully erased */
}

/* Axes labels */
.icon-add-maths::before {
    content: 'y';
    position: absolute;
    top: 2px;
    left: 5px;
    font-size: 11px;
    font-weight: 500;
    color: var(--grey-dark);
}

.icon-add-maths::after {
    content: 'x';
    position: absolute;
    bottom: 2px;
    right: 5px;
    font-size: 11px;
    font-weight: 500;
    color: var(--grey-dark);
}

/* --- Biology - Dynamic DNA Helix --- */
.icon-biology .dna-container {
    width: 35px;
    /* Wider */
    height: 65px;
    position: relative;
    perspective: 500px;
    /* More perspective */
}

.icon-biology .strand-group {
    width: 100%;
    height: 100%;
    position: absolute;
    /* Smoother, slightly faster rotation with subtle X wobble */
    animation: rotateDNADynamic var(--slow-duration) infinite linear;
    transform-style: preserve-3d;
}

.icon-biology .strand {
    position: absolute;
    width: 100%;
    height: 7px;
    /* Thicker */
    border-radius: 3.5px;
    top: 50%;
    margin-top: -3.5px;
    transform-origin: center center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* More distinct strand colors */
.icon-biology .strand.s1 {
    transform: rotateY(0deg) translateZ(14px);
    background: linear-gradient(135deg, var(--bio-chem-green), #047857);
}

/* Gradient */
.icon-biology .strand.s2 {
    transform: rotateY(180deg) translateZ(14px);
    background: linear-gradient(135deg, var(--bio-chem-green-light), #6EE7B7);
}

/* Gradient */

/* Base Pairs */
.icon-biology .pair {
    position: absolute;
    width: 22px;
    /* Longer pairs */
    height: 4px;
    /* Thicker pairs */
    border-radius: 2px;
    left: calc(50% - 11px);
    /* Center pairs */
    transform-origin: center center;
    transform: rotateY(90deg) translateZ(0px);
    /* Sync with rotation, add subtle pulse */
    animation: twistPairDynamic var(--slow-duration) infinite linear;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Stagger pairs and alternate colors with gradients */
.icon-biology .pair:nth-child(1) {
    top: 10%;
    animation-delay: 0s;
    background: linear-gradient(90deg, var(--accent-pink), #F472B6);
}

.icon-biology .pair:nth-child(2) {
    top: 30%;
    animation-delay: -0.5s;
    background: linear-gradient(90deg, var(--math-sci-blue), #60A5FA);
}

.icon-biology .pair:nth-child(3) {
    top: 50%;
    animation-delay: -1.0s;
    background: linear-gradient(90deg, var(--accent-pink), #F472B6);
}

.icon-biology .pair:nth-child(4) {
    top: 70%;
    animation-delay: -1.5s;
    background: linear-gradient(90deg, var(--math-sci-blue), #60A5FA);
}

.icon-biology .pair:nth-child(5) {
    top: 90%;
    animation-delay: -2.0s;
    background: linear-gradient(90deg, var(--accent-pink), #F472B6);
}

@keyframes rotateDNADynamic {
    0% {
        transform: rotateY(0deg) rotateX(8deg);
    }

    /* Slightly more X rotation */
    50% {
        transform: rotateY(180deg) rotateX(-8deg);
    }

    /* Wobble */
    100% {
        transform: rotateY(360deg) rotateX(8deg);
    }
}

@keyframes twistPairDynamic {
    0% {
        transform: rotateY(90deg) translateZ(0px) scale(1);
        opacity: 0.9;
    }

    50% {
        transform: rotateY(270deg) translateZ(0px) scale(1.05);
        opacity: 1;
    }

    /* Subtle pulse */
    100% {
        transform: rotateY(450deg) translateZ(0px) scale(1);
        opacity: 0.9;
    }
}

/* --- Business Studies - Impactful Bar Chart --- */
.icon-business .chart-container {
    width: 65px;
    /* Wider */
    height: 55px;
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    border-bottom: 2px solid var(--grey-medium);
    position: relative;
    padding: 0 6px;
}

.icon-business .bar {
    width: 13px;
    /* Wider bars */
    background: linear-gradient(to top, var(--business-econ-orange), #FBBF24);
    /* Gradient */
    border-radius: 4px 4px 0 0;
    /* More rounded */
    /* More impactful growth with overshoot */
    animation: growBarImpact var(--medium-duration) infinite ease-out;
    /* Use ease-out for overshoot */
    position: relative;
    box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.08);
    /* Deeper inset shadow */
    transform-origin: bottom center;
    /* Grow from bottom */
}

/* Sequential animation with varied heights */
.icon-business .bar:nth-child(1) {
    height: 30px;
    animation-delay: 0s;
}

.icon-business .bar:nth-child(2) {
    height: 50px;
    animation-delay: 0.15s;
    background: linear-gradient(to top, var(--business-econ-orange-light), #FEF9C3);
}

/* Lighter gradient */
.icon-business .bar:nth-child(3) {
    height: 40px;
    animation-delay: 0.3s;
}

.icon-business .bar:nth-child(4) {
    height: 25px;
    animation-delay: 0.45s;
    background: linear-gradient(to top, var(--business-econ-orange-light), #FEF9C3);
}

@keyframes growBarImpact {
    0% {
        transform: scaleY(0);
        opacity: 0;
    }

    60% {
        transform: scaleY(1.1);
        opacity: 1;
    }

    /* Overshoot */
    80% {
        transform: scaleY(0.95);
    }

    /* Bounce back */
    100% {
        transform: scaleY(1);
        opacity: 1;
    }
}

/* --- Chemistry - Lively Beaker --- */
.icon-chemistry .beaker-container {
    width: 50px;
    /* Wider */
    height: 60px;
    position: relative;
    filter: drop-shadow(0 3px 5px rgba(0, 0, 0, 0.07));
    /* Enhanced shadow */
}

.icon-chemistry .beaker-glass {
    width: 100%;
    height: 100%;
    border: 2.5px solid var(--grey-medium);
    /* Thicker border */
    border-top: none;
    border-radius: 0 0 25px 25px;
    /* More pronounced curve */
    position: absolute;
    bottom: 0;
    /* More vibrant gradient */
    background: linear-gradient(to top, var(--bio-chem-green-light) 10%, rgba(255, 255, 255, 0.5) 90%);
    overflow: hidden;
    z-index: 1;
    box-shadow: inset -3px -3px 6px rgba(0, 0, 0, 0.06);
    /* Enhanced inset */
}

.icon-chemistry .beaker-top {
    width: 112%;
    /* Wider top */
    height: 10px;
    /* Thicker top */
    border: 2.5px solid var(--grey-medium);
    border-radius: 6px 6px 0 0;
    /* Rounded top */
    position: absolute;
    top: -6px;
    /* Adjusted position */
    left: -6%;
    background: var(--white);
    z-index: 2;
    box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.05);
    /* Shadow for top lip */
}

.icon-chemistry .liquid-surface {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 70%;
    /* Higher liquid level */
    overflow: hidden;
    border-radius: 0 0 22px 22px;
    /* Match inner radius */
    background-color: var(--bio-chem-green);
    /* Solid color base */
}

.icon-chemistry .liquid-surface::after {
    /* More dynamic wavy surface */
    content: '';
    position: absolute;
    width: 180%;
    height: 12px;
    /* Larger wave */
    background: var(--bio-chem-green-light);
    /* Lighter color for wave */
    border-radius: 45% 55% 40% 60%;
    /* Irregular shape */
    top: -4px;
    left: -40%;
    /* Faster, more noticeable wave */
    animation: waveSurfaceLively var(--medium-duration) infinite linear alternate;
    opacity: 0.8;
    filter: blur(1px);
}

@keyframes waveSurfaceLively {
    0% {
        transform: translateX(0) rotate(-1deg);
        border-radius: 45% 55% 40% 60%;
    }

    100% {
        transform: translateX(-10px) rotate(1deg);
        border-radius: 55% 45% 60% 40%;
    }
}

.icon-chemistry .bubble {
    position: absolute;
    bottom: 8px;
    /* Start lower */
    width: 6px;
    height: 6px;
    /* Base size */
    background-color: rgba(255, 255, 255, 0.85);
    /* More opaque */
    border-radius: 50%;
    /* More varied and lively bubble animation */
    animation: bubbleUpLively var(--fast-duration) infinite ease-in;
    z-index: 3;
    filter: blur(0.5px);
    opacity: 0;
    /* Start hidden */
}

/* Varied sizes and delays */
.icon-chemistry .bubble:nth-child(1) {
    left: 25%;
    animation-delay: 0s;
    width: 5px;
    height: 5px;
}

.icon-chemistry .bubble:nth-child(2) {
    left: 70%;
    animation-delay: 0.6s;
    width: 7px;
    height: 7px;
}

.icon-chemistry .bubble:nth-child(3) {
    left: 45%;
    animation-delay: 1.2s;
    width: 6px;
    height: 6px;
}

.icon-chemistry .bubble:nth-child(4) {
    left: 55%;
    animation-delay: 1.8s;
    width: 4px;
    height: 4px;
}

/* Extra small bubble */

@keyframes bubbleUpLively {
    0% {
        bottom: 8px;
        opacity: 0;
        transform: scale(0.4) translateX(0);
    }

    20% {
        opacity: 0.9;
        transform: scale(0.8);
    }

    /* Appear and grow */
    80% {
        opacity: 0.2;
        transform: scale(1.1) translateX(3px);
    }

    /* Grow, fade, slight sideways move */
    95% {
        opacity: 0.1;
        transform: scale(1.15) translateX(-2px);
    }

    /* Wobble */
    100% {
        bottom: 75%;
        opacity: 0;
        transform: scale(1.2) translateX(0);
    }

    /* Rise higher before disappearing */
}

/* --- Computer Science - Realistic Terminal --- */
.icon-cs .terminal-window {
    width: 65px;
    /* Wider */
    height: 50px;
    background-color: #2d3748;
    /* Darker background */
    border-radius: 8px;
    padding: 10px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    /* Stronger shadow */
    border: 1px solid #4a5568;
    /* Darker border */
}

.icon-cs .window-buttons {
    position: absolute;
    top: 7px;
    left: 10px;
    display: flex;
    gap: 6px;
    /* Increased gap */
}

.icon-cs .window-button {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.icon-cs .btn-red {
    background-color: #ff5f57;
}

.icon-cs .btn-yellow {
    background-color: #ffbd2e;
}

.icon-cs .btn-green {
    background-color: #28c940;
}

.icon-cs .code-area {
    /* Container for lines and cursor */
    position: absolute;
    top: 22px;
    /* Position below buttons */
    left: 10px;
    right: 10px;
    bottom: 10px;
    font-family: 'Menlo', 'Courier New', Courier, monospace;
    font-size: 8px;
    /* Slightly larger */
    color: #E2E8F0;
    /* Lighter text */
}

.icon-cs .code-line {
    white-space: pre;
    /* Preserve spaces */
    position: relative;
    /* Needed for cursor positioning */
    height: 1.5em;
    /* Line height */
}

.icon-cs .code-line span {
    /* Use spans for typed text */
    opacity: 0;
    animation: typeLineRealistic 10s infinite ease-in-out;
}

/* Define content directly in HTML spans */

.icon-cs .cursor {
    width: 7px;
    height: 11px;
    /* Standard cursor size */
    background-color: #4ade80;
    /* Brighter green cursor */
    position: absolute;
    top: 0;
    /* Position relative to code-area */
    left: 0;
    animation: blinkAndMoveCursorRealistic 10s infinite step-end;
    box-shadow: 0 0 5px #4ade80;
    /* Add glow */
}

/* Keyframes need careful coordination with HTML content */
@keyframes typeLineRealistic {

    /* This animation reveals spans sequentially */
    /* Timings need to match cursor movement */
    0%,
    100% {
        opacity: 0;
    }

    /* Example timing for revealing first line */
    2% {
        opacity: 1;
    }

    /* Reveal '$' */
    4% {
        opacity: 1;
    }

    /* Reveal ' ' */
    6% {
        opacity: 1;
    }

    /* Reveal 'n' */
    8% {
        opacity: 1;
    }

    /* Reveal 'p' */
    10% {
        opacity: 1;
    }

    /* Reveal 'm' */
    /* ... and so on ... */
    /* Fade out before next line */
    30% {
        opacity: 0;
    }

    /* Example timing for second line */
    32% {
        opacity: 1;
    }

    /* Reveal '$' */
    /* ... */
    60% {
        opacity: 0;
    }

    /* Example timing for third line */
    62% {
        opacity: 1;
    }

    /* Reveal '$' */
    /* ... */
    90% {
        opacity: 0;
    }
}

@keyframes blinkAndMoveCursorRealistic {

    /* Blink */
    0%,
    48%,
    100% {
        opacity: 1;
    }

    50%,
    98% {
        opacity: 0;
    }

    49%,
    99% {
        opacity: 1;
    }

    /* Movement - coordinated with typing animation and HTML structure */
    /* Line 1 */
    0% {
        top: 0em;
        left: 0ch;
    }

    /* Start of line 1 */
    2% {
        top: 0em;
        left: 1ch;
    }

    /* After '$' */
    4% {
        top: 0em;
        left: 2ch;
    }

    /* After ' ' */
    6% {
        top: 0em;
        left: 3ch;
    }

    /* After 'n' */
    8% {
        top: 0em;
        left: 4ch;
    }

    /* After 'p' */
    10% {
        top: 0em;
        left: 5ch;
    }

    /* After 'm' */
    12% {
        top: 0em;
        left: 6ch;
    }

    /* After ' ' */
    14% {
        top: 0em;
        left: 7ch;
    }

    /* After 'i' */
    16% {
        top: 0em;
        left: 8ch;
    }

    /* After 'n' */
    18% {
        top: 0em;
        left: 9ch;
    }

    /* After 's' */
    20% {
        top: 0em;
        left: 10ch;
    }

    /* After 't' */
    22% {
        top: 0em;
        left: 11ch;
    }

    /* After 'a' */
    24% {
        top: 0em;
        left: 12ch;
    }

    /* After 'l' */
    26% {
        top: 0em;
        left: 13ch;
    }

    /* After 'l' */
    /* Pause */
    30% {
        top: 1.5em;
        left: 0ch;
    }

    /* Start of line 2 */
    /* Line 2 */
    32% {
        top: 1.5em;
        left: 1ch;
    }

    /* After '$' */
    34% {
        top: 1.5em;
        left: 2ch;
    }

    /* After ' ' */
    36% {
        top: 1.5em;
        left: 3ch;
    }

    /* After 'c' */
    38% {
        top: 1.5em;
        left: 4ch;
    }

    /* After 'd' */
    40% {
        top: 1.5em;
        left: 5ch;
    }

    /* After ' ' */
    42% {
        top: 1.5em;
        left: 6ch;
    }

    /* After '.' */
    44% {
        top: 1.5em;
        left: 7ch;
    }

    /* After '.' */
    /* Pause */
    60% {
        top: 3em;
        left: 0ch;
    }

    /* Start of line 3 */
    /* Line 3 */
    62% {
        top: 3em;
        left: 1ch;
    }

    /* After '$' */
    64% {
        top: 3em;
        left: 2ch;
    }

    /* After ' ' */
    66% {
        top: 3em;
        left: 3ch;
    }

    /* After 'l' */
    68% {
        top: 3em;
        left: 4ch;
    }

    /* After 's' */
    /* Pause */
    90% {
        top: 0em;
        left: 0ch;
    }

    /* Reset */
}


/* --- Economics - Dynamic Trend Arrow & Coins --- */
.icon-economics .chart-bg {
    position: absolute;
    width: 85%;
    height: 85%;
    border-left: 1.5px dashed var(--business-econ-orange-light);
    /* Slightly thicker */
    border-bottom: 1.5px dashed var(--business-econ-orange-light);
    opacity: 0.5;
    /* Slightly more visible */
}

.icon-economics .arrow-container {
    width: 40px;
    height: 45px;
    position: relative;
    /* More dynamic arrow movement with overshoot */
    animation: trendArrowEconDynamic var(--medium-duration) infinite ease-in-out;
}

.icon-economics .arrow-shaft {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 7px;
    /* Thicker */
    height: 100%;
    background: linear-gradient(to top, var(--business-econ-orange), #FDE68A);
    /* Brighter gradient */
    border-radius: 3.5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.07);
    /* Enhanced shadow */
}

.icon-economics .arrow-head {
    position: absolute;
    top: -6px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 12px solid transparent;
    /* Larger head */
    border-right: 12px solid transparent;
    border-bottom: 18px solid var(--business-econ-orange);
    /* Match shaft base */
    filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.15));
}

.icon-economics .coin {
    position: absolute;
    width: 11px;
    height: 11px;
    /* Larger */
    background-color: #FBBF24;
    border-radius: 50%;
    border: 1.5px solid #D97706;
    /* Thicker border */
    box-shadow: inset 0 -1px 2px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.1);
    /* Inset and drop shadow */
    opacity: 0;
    /* More dynamic coin float with spin */
    animation: floatCoinDynamic var(--medium-duration) infinite ease-out;
    display: flex;
    /* Center dollar sign */
    align-items: center;
    justify-content: center;
    font-size: 7px;
    font-weight: bold;
    color: #A16207;
    /* Darker gold */
}

.icon-economics .coin::before {
    content: '$';
}

/* Add dollar sign */

.icon-economics .coin1 {
    bottom: 8px;
    left: -5px;
    animation-delay: 0.4s;
}

.icon-economics .coin2 {
    bottom: 20px;
    right: -5px;
    animation-delay: 1.0s;
    width: 9px;
    height: 9px;
    font-size: 6px;
}

/* Smaller */
.icon-economics .coin3 {
    bottom: 35px;
    left: 2px;
    animation-delay: 1.6s;
}

@keyframes trendArrowEconDynamic {
    0% {
        transform: translateY(8px) scaleY(0.95);
    }

    /* Start lower, slightly squashed */
    50% {
        transform: translateY(-8px) scaleY(1.05);
    }

    /* Go higher, slightly stretched */
    100% {
        transform: translateY(8px) scaleY(0.95);
    }
}

@keyframes floatCoinDynamic {
    0% {
        transform: translateY(20px) rotateY(0deg) scale(0.5);
        opacity: 0;
    }

    20% {
        opacity: 0.9;
        transform: translateY(5px) rotateY(180deg) scale(1);
    }

    /* Appear, rise, flip */
    80% {
        opacity: 0.9;
        transform: translateY(-45px) rotateY(540deg) scale(1);
    }

    /* Rise higher, continue flipping */
    100% {
        transform: translateY(-55px) rotateY(720deg) scale(0.5);
        opacity: 0;
    }

    /* Fade out higher up */
}

/* --- Geography - 3D Globe --- */
.icon-geography .globe-container {
    width: 60px;
    height: 60px;
    position: relative;
    perspective: 1000px;
    /* Enhanced perspective for more 3D effect */
}

.icon-geography .globe-stand {
    width: 22px;
    height: 16px;
    /* Larger stand for better proportion */
    background: linear-gradient(135deg, var(--grey-medium), var(--grey-dark));
    /* Enhanced gradient */
    border-radius: 4px 4px 2px 2px;
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2), inset 0 1px 2px rgba(255, 255, 255, 0.3);
    /* Enhanced shadow and highlight */
    z-index: 1;
}

.icon-geography .globe-sphere {
    width: 60px;
    height: 60px;
    /* Enhanced 3D globe with more realistic ocean gradient */
    background: radial-gradient(circle at 30% 30%,
            #BAE6FD,
            /* Lighter blue highlight */
            #38BDF8,
            /* Mid blue */
            var(--math-sci-blue) 80%);
    /* Deeper blue at edges */
    border-radius: 50%;
    position: absolute;
    bottom: 18px;
    left: 50%;
    transform-origin: center center;
    transform: translateX(-50%) rotateY(20deg) rotateX(10deg);
    overflow: hidden;
    /* Enhanced 3D shadow effects */
    box-shadow:
        inset -10px -8px 20px rgba(0, 0, 0, 0.3),
        /* Stronger inner shadow */
        inset 5px 5px 15px rgba(255, 255, 255, 0.2),
        /* Inner highlight */
        0 0 20px rgba(37, 99, 235, 0.4),
        /* Outer glow */
        0 5px 15px rgba(0, 0, 0, 0.2);
    /* Drop shadow */
    /* Smoother 3D rotation animation */
    animation: rotateGlobe3D var(--medium-duration) infinite linear;
    transform-style: preserve-3d;
    backface-visibility: hidden;
    /* Prevent flickering during rotation */
    z-index: 2;
}

/* Enhanced grid lines for latitude/longitude */
.icon-geography .grid-line {
    position: absolute;
    background-color: rgba(255, 255, 255, 0.25);
    /* More visible */
    z-index: 2;
    box-shadow: 0 0 3px rgba(255, 255, 255, 0.3);
    /* Subtle glow */
}

/* Horizontal grid lines (latitude) */
.icon-geography .grid-line:nth-child(1) {
    width: 100%;
    height: 1px;
    top: 20%;
    left: 0;
    transform: rotateX(70deg);
    /* Perspective curve */
}

.icon-geography .grid-line:nth-child(2) {
    width: 100%;
    height: 1px;
    top: 50%;
    left: 0;
    transform: rotateX(0deg);
    /* Equator */
}

.icon-geography .grid-line:nth-child(3) {
    width: 100%;
    height: 1px;
    top: 80%;
    left: 0;
    transform: rotateX(-70deg);
    /* Perspective curve */
}

/* Vertical grid lines (longitude) */
.icon-geography .grid-line:nth-child(4) {
    width: 1px;
    height: 100%;
    top: 0;
    left: 25%;
    transform: rotateY(70deg);
    /* Perspective curve */
}

.icon-geography .grid-line:nth-child(5) {
    width: 1px;
    height: 100%;
    top: 0;
    left: 50%;
    transform: rotateY(0deg);
    /* Prime meridian */
}

.icon-geography .grid-line:nth-child(6) {
    width: 1px;
    height: 100%;
    top: 0;
    left: 75%;
    transform: rotateY(-70deg);
    /* Perspective curve */
}

/* Enhanced 3D continents */
.icon-geography .continent {
    position: absolute;
    /* More realistic land colors with gradient */
    background: linear-gradient(135deg, #10B981, var(--bio-chem-green));
    border-radius: 40% 60% 55% 45% / 50% 55% 45% 50%;
    /* More organic shapes */
    opacity: 0.9;
    /* More visible */
    filter: blur(0.5px);
    /* Add 3D elevation effect */
    transform-style: preserve-3d;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

/* Adjusted continent positions and 3D transforms */
.icon-geography .c1 {
    top: 15%;
    left: 10%;
    width: 35%;
    height: 25%;
    transform: rotate(-15deg) translateZ(2px);
    /* More elevation */
}

.icon-geography .c2 {
    bottom: 20%;
    right: 15%;
    width: 30%;
    height: 20%;
    transform: rotate(25deg) translateZ(2.5px);
    /* More elevation */
    background: linear-gradient(135deg, #34D399, #10B981);
    /* Different green */
}

.icon-geography .c3 {
    top: 40%;
    left: 65%;
    width: 22%;
    height: 15%;
    transform: rotate(5deg) translateZ(3px);
    /* More elevation */
}

/* Add a fourth small continent/island */
.icon-geography .c4 {
    top: 25%;
    right: 20%;
    width: 12%;
    height: 10%;
    transform: rotate(-10deg) translateZ(2.2px);
    background: linear-gradient(135deg, #059669, #047857);
    /* Darker green */
}

/* Enhanced 3D rotation animation */
@keyframes rotateGlobe3D {
    0% {
        transform: translateX(-50%) rotateY(0deg) rotateX(15deg) rotateZ(0deg);
    }

    25% {
        transform: translateX(-50%) rotateY(90deg) rotateX(12deg) rotateZ(2deg);
    }

    50% {
        transform: translateX(-50%) rotateY(180deg) rotateX(15deg) rotateZ(0deg);
    }

    75% {
        transform: translateX(-50%) rotateY(270deg) rotateX(18deg) rotateZ(-2deg);
    }

    100% {
        transform: translateX(-50%) rotateY(360deg) rotateX(15deg) rotateZ(0deg);
    }
}

/* Geography globe color - kept for compatibility */
.icon-geography .globe {
    background-color: #34D399;
}

/* Legacy animation - kept for compatibility */
@keyframes spinGlobeVivid {
    0% {
        transform: translateX(-50%) rotateY(0deg) rotateX(5deg);
        background-position: 0% 50%;
    }

    100% {
        transform: translateX(-50%) rotateY(360deg) rotateX(5deg);
        background-position: 200% 50%;
    }
}

/* No separate land animation needed, it spins with the globe */


/* --- History - Elegant Hourglass --- */
.icon-history .hourglass-container {
    width: 40px;
    height: 55px;
    /* Adjusted size */
    position: relative;
    perspective: 350px;
    /* Increased perspective */
    filter: drop-shadow(0 3px 4px rgba(0, 0, 0, 0.08));
}

.icon-history .hourglass-body {
    width: 100%;
    height: 100%;
    position: absolute;
    /* Slower, more graceful flip */
    animation: flipHourglassElegant var(--very-slow-duration) infinite ease-in-out;
    transform-style: preserve-3d;
}

.icon-history .hg-frame {
    position: absolute;
    width: 100%;
    height: 6px;
    /* Thicker frame */
    background: linear-gradient(#A0522D, #8B4513);
    /* Brown gradient */
    border-radius: 3px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.icon-history .hg-top {
    top: 0;
}

.icon-history .hg-bottom {
    bottom: 0;
}

.icon-history .hg-post {
    position: absolute;
    width: 6px;
    height: 100%;
    /* Thicker posts */
    background: linear-gradient(#A0522D, #8B4513);
    top: 0;
}

.icon-history .hg-post-left {
    left: 2px;
    border-radius: 3px 0 0 3px;
}

/* Position closer in */
.icon-history .hg-post-right {
    right: 2px;
    border-radius: 0 3px 3px 0;
}

.icon-history .glass-container {
    position: absolute;
    width: 70%;
    height: 80%;
    /* Adjusted size */
    top: 10%;
    left: 15%;
    transform: translateZ(3px);
    /* Bring glass forward */
}

.icon-history .glass-bulb {
    position: absolute;
    width: 100%;
    height: 50%;
    border: 2.5px solid var(--math-sci-blue-light);
    /* Thicker glass */
    box-sizing: border-box;
    /* Subtle glass reflection */
    background: linear-gradient(to top, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.1));
    overflow: hidden;
    /* Contain sand */
}

.icon-history .glass-top {
    top: 0;
    border-bottom: none;
    border-radius: 15px 15px 5px 5px;
}

/* More bulbous */
.icon-history .glass-bottom {
    bottom: 0;
    border-top: none;
    border-radius: 5px 5px 15px 15px;
}

.icon-history .glass-container::before {
    /* Narrowing */
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 4px;
    height: 6px;
    background: var(--math-sci-blue-light);
    /* Match border */
    border-radius: 1px;
}

.icon-history .sand {
    position: absolute;
    background-color: #FCD34D;
    /* Lighter sand color */
    left: 50%;
    transform: translateX(-50%);
    border-radius: 3px;
}

.icon-history .sand-pile-top {
    width: 80%;
    height: 40%;
    /* Adjusted size */
    bottom: 50%;
    border-radius: 0 0 10px 10px;
    /* Rounded bottom */
    animation: sandTopFallElegant var(--very-slow-duration) linear infinite;
    /* Sync */
    background: linear-gradient(to top, #FBBF24, #FCD34D);
    /* Sand gradient */
}

.icon-history .sand-pile-bottom {
    width: 80%;
    height: 0%;
    bottom: 2.5px;
    /* Sit just above bottom glass */
    border-radius: 10px 10px 0 0;
    /* Rounded top */
    animation: sandBottomFillElegant var(--very-slow-duration) linear infinite;
    /* Sync */
    background: linear-gradient(to top, #FBBF24, #FCD34D);
    /* Sand gradient */
}

.icon-history .sand-stream {
    width: 1.5px;
    /* Thicker stream */
    height: 10%;
    top: 45%;
    /* Adjusted position */
    animation: sandStreamFlowElegant var(--very-slow-duration) linear infinite;
    /* Sync */
    background-color: #FCD34D;
    box-shadow: 0 0 3px #FBBF24;
    /* Subtle glow */
}

@keyframes flipHourglassElegant {

    0%,
    45% {
        transform: rotateX(0deg);
    }

    /* Longer wait */
    50% {
        transform: rotateX(180deg);
    }

    /* Flip */
    55%,
    100% {
        transform: rotateX(180deg);
    }

    /* Hold flipped */
    /* Note: The animation needs adjustment if a 360 flip is desired */
}

/* Adjust sand animations to match 10s duration and flip timing */
@keyframes sandTopFallElegant {
    0% {
        height: 40%;
        bottom: 50%;
        opacity: 1;
    }

    45% {
        height: 0%;
        bottom: 50%;
        opacity: 1;
    }

    /* Empty just before flip */
    45.1%,
    50% {
        height: 0%;
        opacity: 0;
    }

    /* Hide during flip */
    50.1% {
        height: 0%;
        bottom: 2.5px;
        opacity: 0;
    }

    /* Appear at bottom */
    55% {
        height: 0%;
        bottom: 2.5px;
        opacity: 1;
    }

    /* Become visible */
    100% {
        height: 40%;
        bottom: 2.5px;
        opacity: 1;
    }

    /* Fill bottom */
}

@keyframes sandBottomFillElegant {
    0% {
        height: 0%;
        bottom: 2.5px;
        opacity: 1;
    }

    45% {
        height: 40%;
        bottom: 2.5px;
        opacity: 1;
    }

    /* Full just before flip */
    45.1%,
    50% {
        height: 0%;
        opacity: 0;
    }

    /* Hide during flip */
    50.1% {
        height: 0%;
        bottom: 50%;
        opacity: 0;
    }

    /* Appear at top */
    55% {
        height: 0%;
        bottom: 50%;
        opacity: 1;
    }

    /* Become visible */
    100% {
        height: 40%;
        bottom: 50%;
        opacity: 1;
    }

    /* Fill top */
}

@keyframes sandStreamFlowElegant {

    0%,
    45% {
        height: 10%;
        opacity: 1;
    }

    /* Flowing */
    45.1%,
    55% {
        height: 0%;
        opacity: 0;
    }

    /* Stop during flip */
    55.1%,
    100% {
        height: 10%;
        opacity: 1;
    }

    /* Flowing again */
}


/* --- Human Biology - Pulsing Heart & ECG --- */
.icon-human-bio .heart-container {
    width: 55px;
    height: 55px;
    /* Slightly larger */
    position: relative;
}

.icon-human-bio .heart-shape {
    width: 44px;
    height: 44px;
    /* Larger heart */
    position: absolute;
    top: 5px;
    left: 5.5px;
    /* Centered */
    /* More organic, powerful beat */
    animation: beatHeartPowerful 1.4s infinite ease-in-out;
    /* Slightly faster */
    filter: drop-shadow(0 3px 5px rgba(236, 72, 153, 0.3));
    /* Pink glow */
}

.icon-human-bio .heart-shape::before,
.icon-human-bio .heart-shape::after {
    content: "";
    position: absolute;
    top: 0;
    width: 22px;
    height: 36px;
    /* Adjusted proportions */
    /* Vibrant red gradient */
    background: linear-gradient(135deg, var(--accent-red), #DC2626);
    border-radius: 22px 22px 0 0;
    transform: rotate(-45deg);
    transform-origin: 0 100%;
}

.icon-human-bio .heart-shape::after {
    left: 0;
    transform: rotate(45deg);
    transform-origin: 100% 100%;
}

/* ECG Line */
.icon-human-bio .ecg-line {
    position: absolute;
    bottom: 5px;
    left: -5%;
    /* Extend slightly */
    width: 110%;
    height: 20px;
    /* Taller ECG area */
    overflow: hidden;
}

.icon-human-bio .ecg-path {
    width: 250%;
    /* Wider for smoother scroll */
    height: 100%;
    position: absolute;
    bottom: 0;
    left: 0;
    /* Use SVG for a cleaner, more scalable ECG */
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 20'%3E%3Cpath d='M0 15 H 15 L 18 8 L 21 18 L 23 13 L 25 15 H 50' fill='none' stroke='%23059669' stroke-width='1.5'/%3E%3C/svg%3E");
    background-size: 50px 20px;
    /* Size of one ECG cycle */
    background-repeat: repeat-x;
    background-position: 0 bottom;
    /* Sync scroll with heart beat */
    animation: scrollECGDynamic 1.4s infinite linear;
    opacity: 0.9;
    filter: drop-shadow(0 1px 1px rgba(5, 150, 105, 0.3));
    /* Subtle green glow */
}

@keyframes beatHeartPowerful {
    0% {
        transform: scale(1);
        filter: drop-shadow(0 3px 5px rgba(236, 72, 153, 0.3)) brightness(1);
    }

    30% {
        transform: scale(1.15);
        filter: drop-shadow(0 5px 8px rgba(236, 72, 153, 0.5)) brightness(1.1);
    }

    /* Stronger beat, brighter */
    50% {
        transform: scale(0.95);
        filter: drop-shadow(0 2px 4px rgba(236, 72, 153, 0.2)) brightness(0.95);
    }

    /* Contract */
    80% {
        transform: scale(1.02);
    }

    /* Slight rebound */
    100% {
        transform: scale(1);
        filter: drop-shadow(0 3px 5px rgba(236, 72, 153, 0.3)) brightness(1);
    }
}

@keyframes scrollECGDynamic {
    from {
        transform: translateX(0);
    }

    to {
        transform: translateX(-50px);
    }

    /* Scroll one pattern width */
}

/* --- ICT - Dynamic Data Flow Network --- */
.icon-ict .network-grid {
    width: 65px;
    height: 65px;
    /* Larger grid */
    position: relative;
}

.icon-ict .node {
    width: 12px;
    height: 12px;
    /* Larger nodes */
    background: radial-gradient(circle, var(--math-sci-blue-light), var(--math-sci-blue));
    /* Gradient */
    border: 2px solid var(--white);
    border-radius: 50%;
    position: absolute;
    /* More prominent glow */
    box-shadow: 0 0 8px rgba(37, 99, 235, 0.5), 0 0 12px rgba(37, 99, 235, 0.3);
    z-index: 2;
    /* More noticeable pulse */
    animation: pulseNodeICTDynamic var(--medium-duration) infinite ease-in-out;
}

/* Adjusted positions for larger grid */
.icon-ict .node-center {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation-delay: 0s;
}

.icon-ict .node-tl {
    top: 5px;
    left: 5px;
    animation-delay: 0.3s;
}

.icon-ict .node-tr {
    top: 5px;
    right: 5px;
    animation-delay: 0.6s;
}

.icon-ict .node-bl {
    bottom: 5px;
    left: 5px;
    animation-delay: 0.9s;
}

.icon-ict .node-br {
    bottom: 5px;
    right: 5px;
    animation-delay: 1.2s;
}

.icon-ict .connection {
    position: absolute;
    background-color: var(--grey-medium);
    height: 2px;
    /* Thicker lines */
    transform-origin: left center;
    z-index: 1;
    opacity: 0.8;
    /* Add subtle animation to connections */
    animation: pulseConnectionICT var(--medium-duration) infinite ease-in-out alternate;
}

/* Recalculate line positions/rotations based on new node positions */
/* Using absolute positioning and transforms for lines */
/* Example: Center to Top-Left */
.icon-ict .conn-c-tl {
    width: 35px;
    /* Approximate length */
    top: calc(50% - 1px);
    /* Center vertically */
    left: calc(50% - 17.5px);
    /* Start offset from center */
    transform: rotate(-45deg) translateX(17.5px);
    /* Rotate and adjust */
    transform-origin: center left;
    animation-delay: 0.15s;
}

.icon-ict .conn-c-tr {
    width: 35px;
    top: calc(50% - 1px);
    left: 50%;
    transform: rotate(45deg);
    transform-origin: center left;
    animation-delay: 0.45s;
}

.icon-ict .conn-c-bl {
    width: 35px;
    top: 50%;
    left: calc(50% - 17.5px);
    transform: rotate(45deg) translateX(17.5px);
    transform-origin: center left;
    animation-delay: 0.75s;
}

.icon-ict .conn-c-br {
    width: 35px;
    top: 50%;
    left: 50%;
    transform: rotate(-45deg);
    transform-origin: center left;
    animation-delay: 1.05s;
}

/* Data Packet Animation */
.icon-ict .packet {
    position: absolute;
    width: 6px;
    height: 6px;
    /* Larger packet */
    background-color: var(--accent-pink);
    border-radius: 50%;
    box-shadow: 0 0 6px var(--accent-pink), 0 0 10px var(--accent-pink);
    /* Brighter glow */
    opacity: 0;
    /* Use offset-path for smoother travel along connections */
    /* Fallback: Keyframe animation */
    animation: travelPacketDynamic var(--medium-duration) infinite linear;
    z-index: 3;
    filter: blur(0.5px);
    /* Set initial position */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* Keyframes for each path (fallback) */
@keyframes travelPacketDynamic {
    0% {
        top: 50%;
        left: 50%;
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }

    5% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    /* Appear at center */
    /* Move towards TL */
    25% {
        top: calc(5px + 6px);
        left: calc(5px + 6px);
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    30% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }

    /* Disappear at TL */
    /* Appear at center again */
    31% {
        top: 50%;
        left: 50%;
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }

    36% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    /* Move towards TR */
    56% {
        top: calc(5px + 6px);
        left: calc(100% - 5px - 6px);
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    61% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }

    /* Similar pattern for BL and BR */
    100% {
        opacity: 0;
    }
}

/* Assign delays to different packets if needed */
.icon-ict .packet1 {
    animation-delay: 0.1s;
}

.icon-ict .packet2 {
    animation-delay: 0.7s;
    animation-duration: 2.8s;
}

/* Example variation */


@keyframes pulseNodeICTDynamic {

    0%,
    100% {
        transform: translate(-50%, -50%) scale(1);
        box-shadow: 0 0 8px rgba(37, 99, 235, 0.5), 0 0 12px rgba(37, 99, 235, 0.3);
    }

    50% {
        transform: translate(-50%, -50%) scale(1.15);
        box-shadow: 0 0 12px rgba(37, 99, 235, 0.7), 0 0 18px rgba(37, 99, 235, 0.5);
    }

    /* Stronger pulse */
}

@keyframes pulseConnectionICT {

    0%,
    100% {
        opacity: 0.6;
    }

    50% {
        opacity: 0.9;
    }

    /* Subtle pulse */
}


/* --- Language - Expressive Speech Bubbles --- */
.icon-language .bubble-container {
    width: 65px;
    height: 55px;
    /* Larger */
    position: relative;
}

.icon-language .bubble-shape {
    position: absolute;
    background-color: var(--humanities-purple);
    border-radius: 14px;
    /* More rounded */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--white);
    font-size: 12px;
    /* Larger text */
    font-weight: 600;
    /* Bolder */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    /* Enhanced shadow */
    /* More expressive morphing */
    animation: morphBubbleExpressive var(--slow-duration) infinite ease-in-out;
    transform-origin: center center;
}

.icon-language .bubble1 {
    width: 45px;
    height: 32px;
    /* Adjusted size */
    top: 3px;
    left: 0px;
    animation-delay: 0s;
}

.icon-language .bubble1::before {
    /* Speech tail */
    content: '';
    position: absolute;
    bottom: -8px;
    left: 14px;
    /* Adjusted position */
    width: 0;
    height: 0;
    border-left: 9px solid transparent;
    border-right: 9px solid transparent;
    border-top: 10px solid var(--humanities-purple);
    transform-origin: top center;
    /* More lively tail wiggle */
    animation: wiggleTailLively var(--slow-duration) infinite ease-in-out;
    animation-delay: 0s;
}

.icon-language .bubble2 {
    width: 36px;
    height: 28px;
    /* Adjusted size */
    bottom: 0px;
    right: 2px;
    background-color: var(--humanities-purple-light);
    color: var(--text-dark);
    animation-delay: -2.5s;
    /* Offset animation */
}

.icon-language .bubble2::before {
    /* Speech tail */
    content: '';
    position: absolute;
    bottom: -7px;
    right: 12px;
    /* Adjusted position */
    width: 0;
    height: 0;
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    border-top: 8px solid var(--humanities-purple-light);
    transform-origin: top center;
    animation: wiggleTailLively var(--slow-duration) infinite ease-in-out;
    animation-delay: -2.5s;
}

/* Add text inside bubbles */
.icon-language .bubble1::after {
    content: '你好';
    animation: fadeTextBubble 6s infinite ease-in-out 0s;
}

/* Example text */
.icon-language .bubble2::after {
    content: 'Salut!';
    animation: fadeTextBubble 6s infinite ease-in-out -2.5s;
}

/* Example text */

@keyframes morphBubbleExpressive {

    0%,
    100% {
        border-radius: 14px 14px 14px 8px;
        transform: translateY(0) rotate(-2deg) scale(1);
    }

    /* Default speech bubble */
    25% {
        border-radius: 50%;
        transform: translateY(-4px) rotate(3deg) scale(1.05);
    }

    /* Round, pop up */
    50% {
        border-radius: 8px 14px 8px 14px;
        transform: translateY(3px) rotate(-4deg) scale(0.97);
    }

    /* Squarish, dip down */
    75% {
        border-radius: 10px;
        transform: translateY(-2px) rotate(1deg) scale(1.02);
    }

    /* Slightly squarish, lift */
}

@keyframes wiggleTailLively {

    0%,
    100% {
        transform: rotate(-8deg) scaleX(1);
    }

    25% {
        transform: rotate(8deg) scaleX(1.1);
    }

    /* Wiggle further, slight stretch */
    50% {
        transform: rotate(0deg) scaleX(0.9);
    }

    /* Center, slight squash */
    75% {
        transform: rotate(-6deg) scaleX(1.05);
    }
}

@keyframes fadeTextBubble {

    /* Fade text in/out slightly */
    0%,
    10%,
    90%,
    100% {
        opacity: 0.7;
    }

    50% {
        opacity: 1;
    }
}

/* --- Literature - Animated Book --- */
.icon-literature .book-cover {
    width: 50px;
    height: 60px;
    /* Taller book */
    background: linear-gradient(45deg, #8B4513, #A0522D);
    /* SaddleBrown/Sienna */
    border-radius: 4px 8px 8px 4px;
    /* Adjusted rounding for spine */
    position: relative;
    perspective: 500px;
    /* More perspective */
    box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
    /* Stronger shadow */
    transform: rotateY(-10deg);
    /* Slight angle */
}

.icon-literature .page {
    position: absolute;
    width: 94%;
    height: 92%;
    /* Adjusted size */
    top: 4%;
    left: 3%;
    /* Adjust position */
    background-color: #FFFBF0;
    /* Warmer paper */
    border: 1px solid #F5F5F5;
    transform-origin: left center;
    border-radius: 0 4px 4px 0;
    /* Softer rounding */
    /* More realistic page turn */
    animation: turnPageRealistic var(--slow-duration) infinite ease-in-out;
    box-shadow: inset 1.5px 0px 3px rgba(0, 0, 0, 0.05);
    /* More visible spine shadow */
}

/* Page stack effect with slight offsets */
.icon-literature .page1 {
    z-index: 4;
    animation-delay: 0s;
}

.icon-literature .page2 {
    z-index: 3;
    animation-delay: -0.15s;
    background-color: #FFFDF5;
    transform: translateX(0.5px) translateY(0.5px);
}

.icon-literature .page3 {
    z-index: 2;
    animation-delay: -0.3s;
    transform: translateX(1px) translateY(1px);
}

.icon-literature .page4 {
    z-index: 1;
    animation-delay: -0.45s;
    background-color: #FFFDF5;
    transform: translateX(1.5px) translateY(1.5px);
    animation: none;
}

/* Static back page */

/* Text lines with subtle animation */
.icon-literature .page::before,
.icon-literature .page::after {
    content: '';
    position: absolute;
    left: 12%;
    right: 12%;
    height: 1.5px;
    /* Thicker lines */
    background-color: rgba(0, 0, 0, 0.3);
    /* Darker text */
    animation: fadeTextRealistic var(--slow-duration) infinite ease-in-out;
    animation-delay: inherit;
    /* Inherit page delay */
    transform-origin: left center;
}

.icon-literature .page::before {
    top: 25%;
    width: 70%;
}

.icon-literature .page::after {
    top: 45%;
    width: 80%;
}

@keyframes turnPageRealistic {

    0%,
    10% {
        transform: rotateY(0deg) translateX(var(--tx, 0px)) translateY(var(--ty, 0px));
    }

    /* Closed */
    50% {
        transform: rotateY(-175deg) translateX(var(--tx, 0px)) translateY(var(--ty, 0px));
    }

    /* Fully open, slight curve */
    90%,
    100% {
        transform: rotateY(0deg) translateX(var(--tx, 0px)) translateY(var(--ty, 0px));
    }

    /* Closed */
}

/* Assign offsets via CSS variables */
.icon-literature .page2 {
    --tx: 0.5px;
    --ty: 0.5px;
}

.icon-literature .page3 {
    --tx: 1px;
    --ty: 1px;
}

@keyframes fadeTextRealistic {

    0%,
    15%,
    85%,
    100% {
        opacity: 0;
        transform: scaleX(0.8);
    }

    /* Fade and shrink */
    50% {
        opacity: 0.6;
        transform: scaleX(1);
    }

    /* Visible when open */
}


/* --- Mathematics - Glowing Pi Symbol --- */
.icon-math .pi-container {
    width: 55px;
    height: 55px;
    /* Larger */
    position: relative;
    perspective: 600px;
}

.icon-math .pi-symbol {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotateY(0deg);
    /* Initial state */
    font-size: 52px;
    /* Larger */
    font-weight: 500;
    font-family: 'Georgia', 'Times New Roman', Times, serif;
    color: var(--humanities-purple);
    /* Stronger, pulsing glow */
    text-shadow: 0 0 10px var(--humanities-purple-light), 0 0 20px rgba(124, 58, 237, 0.6);
    /* Pulse and subtle 3D rotation */
    animation: pulsePiDynamic var(--medium-duration) infinite ease-in-out;
    z-index: 2;
}

/* Orbiting numbers */
.icon-math .orbiting-num {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 18px;
    height: 18px;
    /* Larger */
    margin-left: -9px;
    margin-top: -9px;
    color: var(--humanities-purple);
    font-size: 10px;
    /* Larger font */
    font-weight: bold;
    text-align: center;
    line-height: 18px;
    /* Smoother orbit with perspective */
    animation: orbitPiDynamic var(--slow-duration) infinite linear;
    transform-style: preserve-3d;
    z-index: 1;
    opacity: 0.9;
    background-color: rgba(255, 255, 255, 0.6);
    /* Slight background */
    border-radius: 50%;
    box-shadow: 0 0 3px rgba(124, 58, 237, 0.3);
}

/* Define content in HTML */
.icon-math .num1 {
    animation-delay: 0s;
}

.icon-math .num2 {
    animation-delay: -0.8s;
}

.icon-math .num3 {
    animation-delay: -1.6s;
}

.icon-math .num4 {
    animation-delay: -2.4s;
}

.icon-math .num5 {
    animation-delay: -3.2s;
}

@keyframes pulsePiDynamic {

    0%,
    100% {
        transform: translate(-50%, -50%) scale(1) rotateY(0deg);
        text-shadow: 0 0 10px var(--humanities-purple-light), 0 0 20px rgba(124, 58, 237, 0.6);
    }

    50% {
        transform: translate(-50%, -50%) scale(1.1) rotateY(15deg);
        text-shadow: 0 0 15px var(--humanities-purple), 0 0 30px var(--humanities-purple);
    }

    /* Pulse, glow brighter, rotate slightly */
}

@keyframes orbitPiDynamic {
    from {
        transform: rotateY(0deg) translateX(30px) rotateY(0deg) rotateX(15deg) translateZ(5px);
        opacity: 0.7;
    }

    /* Wider orbit, more tilt, slight Z */
    to {
        transform: rotateY(360deg) translateX(30px) rotateY(-360deg) rotateX(15deg) translateZ(5px);
        opacity: 0.9;
    }
}

/* --- Physics - Dynamic Atom --- */
.icon-physics .atom-core {
    width: 60px;
    height: 60px;
    /* Larger core */
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    /* More dramatic tilt */
    transform: rotateX(60deg) rotateZ(-15deg) scale(1.1);
    perspective: 700px;
    /* More perspective */
    transform-style: preserve-3d;
    /* Apply to parent */
}

.icon-physics .nucleus {
    width: 12px;
    height: 12px;
    /* Larger nucleus */
    background: radial-gradient(circle, #FDE68A, var(--business-econ-orange));
    /* Brighter gradient */
    border-radius: 50%;
    position: absolute;
    /* Keep absolute */
    /* Position in 3D center */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) translateZ(0);
    box-shadow: 0 0 8px var(--business-econ-orange), 0 0 12px #FBBF24;
    /* Stronger glow */
    z-index: 5;
    /* Add subtle pulse to nucleus */
    animation: pulseNucleusPhysics var(--fast-duration) infinite ease-in-out;
}

.icon-physics .orbit {
    position: absolute;
    border: 1.5px solid var(--grey-medium);
    /* Thicker orbit */
    border-radius: 50%;
    width: 55px;
    height: 55px;
    /* Larger orbits */
    top: 50%;
    left: 50%;
    /* Center orbits and apply rotations */
    transform-origin: center center;
    transform-style: preserve-3d;
    /* Inherit preserve-3d */
    opacity: 0.7;
}

/* Define orbit rotations directly */
.icon-physics .orbit1 {
    transform: translate(-50%, -50%) rotateZ(0deg);
}

.icon-physics .orbit2 {
    transform: translate(-50%, -50%) rotateY(65deg) rotateX(5deg);
}

/* More tilt */
.icon-physics .orbit3 {
    transform: translate(-50%, -50%) rotateY(-65deg) rotateX(-5deg);
}

.icon-physics .electron {
    width: 6px;
    height: 6px;
    /* Larger electrons */
    background-color: var(--math-sci-blue);
    border-radius: 50%;
    position: absolute;
    /* Start at the edge of the orbit path */
    top: 50%;
    left: calc(50% + 27.5px);
    /* Half orbit width */
    margin: -3px 0 0 -3px;
    /* Center electron */
    box-shadow: 0 0 5px var(--math-sci-blue), 0 0 8px var(--math-sci-blue-light);
    /* Enhanced glow */
    transform-style: preserve-3d;
    transform-origin: -27.5px center;
    /* Set origin to center of orbit */
}

/* Assign electrons to orbits with different speeds/delays */
.icon-physics .electron1 {
    animation: electronOrbitPhysics1 var(--fast-duration) infinite linear;
}

.icon-physics .electron2 {
    animation: electronOrbitPhysics2 var(--medium-duration) infinite linear;
    animation-delay: -1s;
}

.icon-physics .electron3 {
    animation: electronOrbitPhysics3 var(--slow-duration) infinite linear;
    animation-delay: -2s;
}

/* Keyframes define rotation around the orbit's axis */
/* Apply orbit rotations within the animation */
@keyframes electronOrbitPhysics1 {

    /* Orbit 1 (flat Z rotation) */
    from {
        transform: rotateZ(0deg);
    }

    to {
        transform: rotateZ(360deg);
    }
}

@keyframes electronOrbitPhysics2 {

    /* Orbit 2 (rotated Y 65deg X 5deg) */
    from {
        transform: rotateY(65deg) rotateX(5deg) rotateZ(0deg);
    }

    to {
        transform: rotateY(65deg) rotateX(5deg) rotateZ(360deg);
    }
}

@keyframes electronOrbitPhysics3 {

    /* Orbit 3 (rotated Y -65deg X -5deg) */
    from {
        transform: rotateY(-65deg) rotateX(-5deg) rotateZ(0deg);
    }

    to {
        transform: rotateY(-65deg) rotateX(-5deg) rotateZ(360deg);
    }
}

@keyframes pulseNucleusPhysics {

    0%,
    100% {
        transform: translate(-50%, -50%) translateZ(0) scale(1);
    }

    50% {
        transform: translate(-50%, -50%) translateZ(0) scale(1.1);
    }
}


/* --- Psychology - Dynamic Brain --- */
.icon-psychology .brain-container {
    width: 55px;
    height: 50px;
    position: relative;
    perspective: 600px;
}

.icon-psychology .brain-half {
    width: 28px;
    height: 45px;
    position: absolute;
    top: 2px;
    border: 2px solid var(--humanities-purple);
    border-radius: 50% 50% 45% 45% / 65% 65% 40% 40%;
    background: linear-gradient(135deg, var(--humanities-purple-light), #E9D5FF);
    animation: pulseBrainPsyDynamic var(--medium-duration) infinite alternate ease-in-out;
    overflow: hidden;
    box-shadow: inset 0 0 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.05);
    transform-style: preserve-3d;
}

.icon-psychology .left {
    left: 2px;
    transform: rotate(-10deg);
    animation-delay: 0.3s;
    z-index: 1;
}

.icon-psychology .right {
    right: 2px;
    transform: rotate(10deg);
    z-index: 2;
}

.icon-psychology .brain-half::before {
    content: '';
    position: absolute;
    width: 160%;
    height: 160%;
    /* Larger to ensure coverage */
    top: -30%;
    left: -30%;
    /* More complex pattern for folds */
    background:
        repeating-linear-gradient(-45deg,
            rgba(124, 58, 237, 0.15),
            /* Darker lines */
            rgba(124, 58, 237, 0.15) 2px,
            transparent 2px,
            transparent 7px
            /* Wider gaps */
        ),
        repeating-linear-gradient(45deg,
            rgba(124, 58, 237, 0.05),
            /* Fainter cross lines */
            rgba(124, 58, 237, 0.05) 1px,
            transparent 1px,
            transparent 5px);
    /* Slower, swirling movement */
    animation: moveFoldsSwirl var(--very-slow-duration) infinite linear;
    opacity: 0.8;
}

@keyframes moveFoldsSwirl {
    from {
        transform: rotate(0deg) scale(1) translateX(0px) translateY(0px);
    }

    to {
        transform: rotate(360deg) scale(1.05) translateX(5px) translateY(-5px);
    }

    /* Rotate, scale, and translate */
}

/* Neural connections between brain halves */
.icon-psychology .synapse {
    position: absolute;
    width: 4px;
    height: 4px;
    /* Larger synapses */
    background-color: var(--accent-pink);
    border-radius: 50%;
    /* Brighter, more impactful glow */
    box-shadow: 0 0 6px var(--accent-pink), 0 0 10px var(--accent-pink), 0 0 15px #F472B6;
    opacity: 0;
    /* Faster, brighter flash */
    animation: fireSynapseImpact var(--fast-duration) infinite ease-out;
    filter: blur(0.5px);
    z-index: 3;
    /* Ensure synapses are on top */
}

/* Neural connections between brain halves */
.icon-psychology .synapse::before {
    content: '';
    position: absolute;
    width: 15px;
    height: 1px;
    background-color: var(--accent-pink);
    top: 50%;
    left: 50%;
    transform-origin: left center;
    opacity: 0;
    animation: pulseConnection var(--fast-duration) infinite ease-out;
    animation-delay: inherit;
    box-shadow: 0 0 3px var(--accent-pink);
}

/* More synapse points */
.icon-psychology .synapse1 {
    top: 20%;
    left: 50%;
    animation-delay: 0.2s;
}

.icon-psychology .synapse1::before {
    transform: translateX(-50%) rotate(30deg);
}

.icon-psychology .synapse2 {
    top: 60%;
    left: 50%;
    animation-delay: 0.8s;
}

.icon-psychology .synapse2::before {
    transform: translateX(-50%) rotate(-20deg);
}

.icon-psychology .synapse3 {
    top: 40%;
    left: 50%;
    animation-delay: 1.4s;
}

.icon-psychology .synapse3::before {
    transform: translateX(-50%) rotate(10deg);
}

.icon-psychology .synapse4 {
    top: 80%;
    left: 50%;
    animation-delay: 2.0s;
}

.icon-psychology .synapse4::before {
    transform: translateX(-50%) rotate(-40deg);
}

@keyframes pulseBrainPsyDynamic {
    from {
        transform: scale(1);
        box-shadow: inset 0 0 12px rgba(0, 0, 0, 0.08), 0 0 10px rgba(124, 58, 237, 0.3);
    }

    to {
        transform: rotate(-7deg) scale(1.05);
        box-shadow: inset 0 0 12px rgba(0, 0, 0, 0.08), 0 0 15px rgba(124, 58, 237, 0.5);
    }

    /* Stronger pulse and glow */
}

@keyframes pulseConnection {
    0% {
        opacity: 0;
        transform-origin: left center;
        transform: scaleX(0);
    }

    50% {
        opacity: 1;
        transform: scaleX(1);
    }

    100% {
        opacity: 0;
        transform: scaleX(0.8);
    }
}

@keyframes fireSynapseImpact {
    0% {
        opacity: 0;
        transform: scale(0.3);
    }

    10% {
        opacity: 1;
        transform: scale(1.2);
    }

    /* Quick, bright flash, slightly larger */
    25% {
        opacity: 0.5;
        transform: scale(0.8);
    }

    /* Fade quickly */
    40% {
        opacity: 0;
        transform: scale(0.5);
    }

    100% {
        opacity: 0;
    }
}

/* --- Sociology - Interactive Figures --- */
.icon-sociology .figure-group {
    width: 65px;
    height: 50px;
    /* Wider */
    position: relative;
    display: flex;
    justify-content: space-around;
    align-items: flex-end;
}

.icon-sociology .figure {
    width: 13px;
    height: 32px;
    /* Slimmer, taller figures */
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    /* More interactive animation */
    animation: interactFigureDynamic var(--slow-duration) infinite ease-in-out;
    transform-origin: bottom center;
    /* Animate from base */
}

.icon-sociology .figure-head {
    width: 11px;
    height: 11px;
    /* Slightly larger head */
    border-radius: 50%;
    background-color: inherit;
    margin-bottom: -2px;
    z-index: 1;
    box-shadow: inset 0 -1px 2px rgba(0, 0, 0, 0.1);
    /* Subtle shadow on head */
}

.icon-sociology .figure-body {
    width: 100%;
    height: 22px;
    /* Taller body */
    border-radius: 5px 5px 2px 2px;
    /* Adjusted rounding */
    background-color: inherit;
    box-shadow: inset 0 2px 3px rgba(255, 255, 255, 0.1);
    /* Subtle highlight */
}

/* Assign colors and animation delays/offsets */
.icon-sociology .figure1 {
    animation-delay: 0s;
}

.icon-sociology .figure1 .figure-head,
.icon-sociology .figure1 .figure-body {
    background: linear-gradient(var(--math-sci-blue), #3B82F6);
}

/* Gradient */

.icon-sociology .figure2 {
    animation-delay: -1s;
    height: 38px;
}

/* Taller */
.icon-sociology .figure2 .figure-head,
.icon-sociology .figure2 .figure-body {
    background: linear-gradient(var(--bio-chem-green), #10B981);
}

.icon-sociology .figure3 {
    animation-delay: -2s;
}

.icon-sociology .figure3 .figure-head,
.icon-sociology .figure3 .figure-body {
    background: linear-gradient(var(--business-econ-orange), #FBBF24);
}

.icon-sociology .figure4 {
    animation-delay: -3s;
    height: 30px;
}

/* Shorter */
.icon-sociology .figure4 .figure-head,
.icon-sociology .figure4 .figure-body {
    background: linear-gradient(var(--humanities-purple), #A78BFA);
}

@keyframes interactFigureDynamic {

    0%,
    100% {
        transform: translateY(0) scaleY(1) rotate(0deg);
    }

    25% {
        transform: translateY(-5px) scaleY(1.03) rotate(-3deg);
    }

    /* Rise, stretch, slight lean */
    50% {
        transform: translateY(0) scaleY(1) rotate(0deg);
    }

    75% {
        transform: translateY(-3px) scaleY(0.97) rotate(3deg);
    }

    /* Dip, squash, lean other way */
}

/* --- Statistics - Dynamic Bell Curve --- */
.icon-stats .stats-container {
    width: 65px;
    height: 50px;
    /* Larger */
    position: relative;
}

.icon-stats .axis-x {
    position: absolute;
    bottom: 10px;
    left: 2px;
    /* Adjusted position */
    width: calc(100% - 4px);
    height: 2px;
    /* Thicker axis */
    background-color: var(--grey-medium);
    border-radius: 1px;
}

.icon-stats .axis-y {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 35px;
    /* Thicker, taller */
    background-color: var(--grey-medium);
    border-radius: 1px;
}

.icon-stats .bell-curve {
    position: absolute;
    bottom: 11px;
    /* Sit on X axis */
    left: 0;
    width: 100%;
    height: 34px;
    /* Adjusted height */
    overflow: hidden;
}

.icon-stats .bell-curve svg {
    /* Use SVG for smooth curve */
    width: 100%;
    height: 100%;
    position: absolute;
    bottom: 0;
    left: 0;
    overflow: visible;
}

.icon-stats .bell-curve path {
    stroke: var(--humanities-purple);
    stroke-width: 2.5;
    /* Thicker curve */
    fill: rgba(124, 58, 237, 0.1);
    /* Subtle fill */
    stroke-linecap: round;
    stroke-dasharray: 200;
    /* Estimate based on path */
    stroke-dashoffset: 200;
    /* Smooth drawing animation */
    animation: drawBellCurveDynamic var(--medium-duration) infinite ease-in-out;
    filter: drop-shadow(0 1px 3px rgba(124, 58, 237, 0.3));
}

@keyframes drawBellCurveDynamic {
    0% {
        stroke-dashoffset: 200;
        fill-opacity: 0;
    }

    50% {
        stroke-dashoffset: 0;
        fill-opacity: 0.1;
    }

    /* Draw and fill */
    70% {
        stroke-dashoffset: 0;
        fill-opacity: 0.1;
    }

    /* Hold */
    100% {
        stroke-dashoffset: -200;
        fill-opacity: 0;
    }

    /* Erase */
}

/* Animated data points */
.icon-stats .data-point {
    position: absolute;
    width: 5px;
    height: 5px;
    /* Larger points */
    background-color: var(--accent-pink);
    border-radius: 50%;
    bottom: 11px;
    /* Start on axis */
    opacity: 0;
    /* Dynamic plotting animation */
    animation: plotDataPointDynamic var(--medium-duration) infinite ease-out;
    filter: blur(0.5px);
    box-shadow: 0 0 4px var(--accent-pink);
    /* Add glow */
    /* Use CSS variable for X position */
    left: calc(var(--x-pos, 0.5) * (100% - 5px));
    /* Position relative to container width */
}

/* Set delays and --x-pos inline in HTML */

@keyframes plotDataPointDynamic {
    0% {
        bottom: 11px;
        opacity: 0;
        transform: scale(0.3) rotate(0deg);
    }

    15% {
        opacity: 1;
        transform: scale(1.1) rotate(0deg);
    }

    /* Appear with slight pop */
    50% {
        /* Rise to approximate curve height - adjust multiplier as needed */
        bottom: calc(11px + 30px * (1 - pow(abs(var(--x-pos, 0.5) - 0.5) * 2, 2)));
        opacity: 1;
        transform: scale(1) rotate(360deg);
        /* Rise and spin */
    }

    85% {
        opacity: 0;
        transform: scale(0.5) rotate(720deg);
    }

    /* Fade out */
    100% {
        bottom: 11px;
        opacity: 0;
    }
}