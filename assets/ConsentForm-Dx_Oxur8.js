import{j as e}from"./vendor-three-BYOb-Ddr.js";import{r}from"./vendor-router-D-_vtQhX.js";import"./vendor-react-DJG_os-6.js";const x=()=>{const[s,a]=r.useState({marketing_consent:!1,analytics_consent:!1,functional_consent:!1}),[o,l]=r.useState(!1),[d,c]=r.useState("");r.useEffect(()=>{(()=>{try{const n=localStorage.getItem("consentPreferences");if(n){const i=JSON.parse(n);a({marketing_consent:i.marketing_consent||!1,analytics_consent:i.analytics_consent||!1,functional_consent:i.functional_consent||!1})}}catch(n){console.error("Error loading preferences:",n)}})()},[]);const m=async t=>{t.preventDefault(),l(!0),c("");try{localStorage.setItem("consentPreferences",JSON.stringify({marketing_consent:s.marketing_consent,analytics_consent:s.analytics_consent,functional_consent:s.functional_consent,updated_at:new Date().toISOString()})),console.log("Consent preferences saved:",{...s,updated_at:new Date().toISOString()}),c("Preferences saved successfully!"),setTimeout(()=>c(""),3e3)}catch(n){console.error("Error saving preferences:",n),c("Failed to save preferences. Please try again.")}finally{l(!1)}};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Privacy Preferences"}),d&&e.jsx("div",{className:"mb-4 p-2 bg-green-100 text-green-800 rounded",children:d}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"functional",name:"functional_consent",type:"checkbox",checked:s.functional_consent,onChange:t=>a({...s,functional_consent:t.target.checked}),className:"h-4 w-4 text-celeste border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"functional",className:"font-medium text-night",children:"Functional Cookies"}),e.jsx("p",{className:"text-gray-500",children:"These cookies are necessary for the website to function and cannot be switched off."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"analytics",name:"analytics_consent",type:"checkbox",checked:s.analytics_consent,onChange:t=>a({...s,analytics_consent:t.target.checked}),className:"h-4 w-4 text-celeste border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"analytics",className:"font-medium text-night",children:"Analytics Cookies"}),e.jsx("p",{className:"text-gray-500",children:"These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"marketing",name:"marketing_consent",type:"checkbox",checked:s.marketing_consent,onChange:t=>a({...s,marketing_consent:t.target.checked}),className:"h-4 w-4 text-celeste border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"marketing",className:"font-medium text-night",children:"Marketing Cookies"}),e.jsx("p",{className:"text-gray-500",children:"These cookies may be set by our advertising partners to build a profile of your interests and show you relevant ads."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:o,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-night hover:bg-night-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-celeste ${o?"opacity-50 cursor-not-allowed":""}`,children:o?"Saving...":"Save Preferences"})})]}),e.jsx("div",{className:"mt-6 text-sm text-gray-500",children:e.jsxs("p",{children:["For more information about how we use cookies and your personal data, please read our"," ",e.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]})};export{x as default};
